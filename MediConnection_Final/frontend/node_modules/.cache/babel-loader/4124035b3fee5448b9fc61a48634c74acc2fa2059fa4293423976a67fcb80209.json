{"ast":null,"code":"var _jsxFileName = \"/Users/ray/Desktop/Medico/frontend/src/containers/welcome/signInForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Form, FormGroup, FormSubmit } from \"../../components/form.js\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignInForm(props) {\n  _s();\n  const dispatch = useDispatch();\n  const [fields, setfields] = useState({\n    errorMessage: \"\",\n    username: \"\",\n    password: \"\"\n  });\n  function handleChange(e) {\n    setfields({\n      ...fields,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(`http://localhost:4090/api/auth/signin`, {\n        username: fields.username,\n        password: fields.password\n      });\n      let data = response.data;\n      // console.log(data)\n\n      if (response.status !== 200) {\n        throw new Error(data.message);\n      }\n      // console.log(\"Before dispatch my guy\");\n\n      dispatch({\n        type: \"session/set\",\n        payload: {\n          ...data\n        }\n      });\n    } catch (err) {\n      console.error(`Failed to sign in. ${err}`);\n      setfields({\n        ...fields,\n        errorMessage: err.message\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Form, {\n    handleSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center font-weight-bold\",\n      children: \"Log in to your account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), fields.errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger p-2\",\n      role: \"alert\",\n      children: fields.errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"username\",\n        type: \"text\",\n        name: \"username\",\n        className: \"form-control\",\n        placeholder: \"Enter your username\",\n        value: fields.username,\n        onChange: handleChange,\n        \"aria-label\": \"Username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        name: \"password\",\n        className: \"form-control\",\n        placeholder: \"Enter your password\",\n        value: fields.password,\n        onChange: handleChange,\n        \"aria-label\": \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(FormSubmit, {\n        className: \"btn-primary btn-md w-100\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(SignInForm, \"4IwZZXleeWMVKMXnXWNdqkR6+y4=\", false, function () {\n  return [useDispatch];\n});\n_c = SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","useDispatch","Form","FormGroup","FormSubmit","axios","jsxDEV","_jsxDEV","SignInForm","props","_s","dispatch","fields","setfields","errorMessage","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","response","post","data","status","Error","message","type","payload","err","console","error","children","className","fileName","_jsxFileName","lineNumber","columnNumber","role","id","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["/Users/ray/Desktop/Medico/frontend/src/containers/welcome/signInForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Form, FormGroup, FormSubmit } from \"../../components/form.js\";\nimport axios from \"axios\";\n\nexport default function SignInForm(props) {\n  const dispatch = useDispatch();\n\n  const [fields, setfields] = useState({\n    errorMessage: \"\",\n    username: \"\",\n    password: \"\",\n  });\n\n  function handleChange(e) {\n    setfields({\n      ...fields,\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\n        `http://localhost:4090/api/auth/signin`,\n        {\n          username: fields.username,\n          password: fields.password,\n        }\n      );\n\n      let data = response.data;\n      // console.log(data)\n\n      if (response.status !== 200) {\n        throw new Error(data.message);\n      }\n      // console.log(\"Before dispatch my guy\");\n\n      dispatch({\n        type: \"session/set\",\n        payload: {\n          ...data,\n        },\n      });\n    } catch (err) {\n      console.error(`Failed to sign in. ${err}`);\n      setfields({\n        ...fields,\n        errorMessage: err.message,\n      });\n    }\n  }\n\n  return (\n\n    <Form handleSubmit={handleSubmit}>\n      <h1 className='text-center font-weight-bold'>Log in to your account</h1>\n      {fields.errorMessage && (\n        <div className='alert alert-danger p-2' role='alert'>\n          {fields.errorMessage}\n        </div>\n      )}\n      <FormGroup>\n        <input\n          id='username'\n          type='text'\n          name='username'\n          className='form-control'\n          placeholder='Enter your username'\n          value={fields.username}\n          onChange={handleChange}\n          aria-label='Username'\n          required\n        />\n      </FormGroup>\n      <FormGroup>\n        <input\n          id='password'\n          type='password'\n          name='password'\n          className='form-control'\n          placeholder='Enter your password'\n          value={fields.password}\n          onChange={handleChange}\n          aria-label='Password'\n          required\n        />\n      </FormGroup>\n      <FormGroup className='mb-2'>\n        <FormSubmit className='btn-primary btn-md w-100'>Log in</FormSubmit>\n      </FormGroup>\n    </Form>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}