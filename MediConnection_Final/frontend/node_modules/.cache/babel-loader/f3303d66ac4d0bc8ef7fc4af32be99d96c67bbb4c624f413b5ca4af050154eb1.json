{"ast":null,"code":"var _jsxFileName = \"/Users/desmondoforiatta/Desktop/Medico/frontend/src/containers/welcome/signInForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Form, FormRow, FormGroup, FormSubmit } from \"../../components/form.js\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignInForm(props) {\n  _s();\n  const dispatch = useDispatch();\n  const [fields, setfields] = useState({\n    errorMessage: \"\",\n    username: \"\",\n    password: \"\"\n  });\n  function handleChange(e) {\n    setfields({\n      ...fields,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(`http://localhost:4090/api/auth/signin`, {\n        username: fields.username,\n        password: fields.password\n      });\n      let data = response.data;\n      // console.log(data)\n\n      if (response.status !== 200) {\n        throw new Error(data.message);\n      }\n      // console.log(\"Before dispatch my guy\");\n\n      dispatch({\n        type: \"session/set\",\n        payload: {\n          ...data\n        }\n      });\n    } catch (err) {\n      console.error(`Failed to sign in. ${err}`);\n      setfields({\n        ...fields,\n        errorMessage: err.message\n      });\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // <Form handleSubmit={handleSubmit}>\n    //     <h5 className=\"font-weight-bold mb-3\">Sign In.</h5>\n    //     {fields.errorMessage &&\n    //         <FormRow className=\"justify-content-center\">\n    //             <div className=\"alert alert-danger p-2\" role=\"alert\">\n    //                 {fields.errorMessage}\n    //             </div>\n    //         </FormRow>\n    //     }\n    //     <FormGroup>\n    //         <input id=\"signInForm1\" type=\"text\" name=\"username\" className=\"form-control\"\n    //             placeholder=\"Username\" value={fields.username} onChange={handleChange}\n    //                 aria-label=\"Username\" required />\n    //     </FormGroup>\n    //     <FormGroup>\n    //         <input id=\"signInForm2\" type=\"password\" name=\"password\" className=\"form-control\"\n    //             placeholder=\"Password\" value={fields.password} onChange={handleChange}\n    //                 aria-label=\"Password\" required />\n    //     </FormGroup>\n    //     <FormGroup className=\"mb-2\">\n    //         <FormSubmit className=\"btn-primary w-100\">Sign In</FormSubmit>\n    //     </FormGroup>\n    // </Form>\n    _jsxDEV(Form, {\n      handleSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center font-weight-bold\",\n        children: \"Log in to your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), fields.errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger p-2\",\n        role: \"alert\",\n        children: fields.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"username\",\n          type: \"text\",\n          name: \"username\",\n          className: \"form-control\",\n          placeholder: \"Enter your username\",\n          value: fields.username,\n          onChange: handleChange,\n          \"aria-label\": \"Username\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          name: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter your password\",\n          value: fields.password,\n          onChange: handleChange,\n          \"aria-label\": \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(FormSubmit, {\n          className: \"btn-primary btn-md w-100\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)\n  );\n}\n_s(SignInForm, \"fjaR5kpg6DpVGzxt6yRLuGU+gn0=\", false, function () {\n  return [useDispatch];\n});\n_c = SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","useDispatch","Form","FormRow","FormGroup","FormSubmit","axios","jsxDEV","_jsxDEV","SignInForm","props","_s","dispatch","fields","setfields","errorMessage","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","response","post","data","status","Error","message","type","payload","err","console","error","children","className","fileName","_jsxFileName","lineNumber","columnNumber","role","id","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["/Users/desmondoforiatta/Desktop/Medico/frontend/src/containers/welcome/signInForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Form, FormRow, FormGroup, FormSubmit } from \"../../components/form.js\";\nimport axios from 'axios';\n\n\nexport default function SignInForm(props) {\n    const dispatch = useDispatch();\n\n    const [fields, setfields] = useState({\n        errorMessage: \"\",\n        username: \"\",\n        password: \"\"\n    });\n\n    function handleChange(e) {\n        setfields({\n            ...fields,\n            [e.target.name]: e.target.value\n        });\n    }\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        try {\n            const response = await axios.post(`http://localhost:4090/api/auth/signin`, {\n                username: fields.username,\n                password: fields.password\n            });\n\n            let data = response.data;\n            // console.log(data)\n\n            if (response.status !== 200) {\n                throw new Error(data.message);\n            }\n            // console.log(\"Before dispatch my guy\");\n            \n            dispatch({\n                type: \"session/set\",\n                payload: {\n                    ...data\n                }\n            });\n        } catch (err) {\n            console.error(`Failed to sign in. ${err}`);\n            setfields({\n                ...fields,\n                errorMessage: err.message\n            });\n        }\n    }\n\n    return (\n        // <Form handleSubmit={handleSubmit}>\n        //     <h5 className=\"font-weight-bold mb-3\">Sign In.</h5>\n        //     {fields.errorMessage &&\n        //         <FormRow className=\"justify-content-center\">\n        //             <div className=\"alert alert-danger p-2\" role=\"alert\">\n        //                 {fields.errorMessage}\n        //             </div>\n        //         </FormRow>\n        //     }\n        //     <FormGroup>\n        //         <input id=\"signInForm1\" type=\"text\" name=\"username\" className=\"form-control\"\n        //             placeholder=\"Username\" value={fields.username} onChange={handleChange}\n        //                 aria-label=\"Username\" required />\n        //     </FormGroup>\n        //     <FormGroup>\n        //         <input id=\"signInForm2\" type=\"password\" name=\"password\" className=\"form-control\"\n        //             placeholder=\"Password\" value={fields.password} onChange={handleChange}\n        //                 aria-label=\"Password\" required />\n        //     </FormGroup>\n        //     <FormGroup className=\"mb-2\">\n        //         <FormSubmit className=\"btn-primary w-100\">Sign In</FormSubmit>\n        //     </FormGroup>\n        // </Form>\n        <Form handleSubmit={handleSubmit}>\n    <h1 className=\"text-center font-weight-bold\">Log in to your account</h1>\n    {fields.errorMessage && (\n        <div className=\"alert alert-danger p-2\" role=\"alert\">\n            {fields.errorMessage}\n        </div>\n    )}\n    <FormGroup>\n        <input \n            id=\"username\" \n            type=\"text\" \n            name=\"username\" \n            className=\"form-control\" \n            placeholder=\"Enter your username\" \n            value={fields.username} \n            onChange={handleChange} \n            aria-label=\"Username\" \n            required \n        />\n    </FormGroup>\n    <FormGroup>\n        <input \n            id=\"password\" \n            type=\"password\" \n            name=\"password\" \n            className=\"form-control\" \n            placeholder=\"Enter your password\" \n            value={fields.password} \n            onChange={handleChange} \n            aria-label=\"Password\" \n            required \n        />\n    </FormGroup>\n    <FormGroup className=\"mb-2\">\n        <FormSubmit className=\"btn-primary btn-md w-100\">Log in</FormSubmit>\n    </FormGroup>\n</Form>\n\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}