{"ast":null,"code":"var _jsxFileName = \"/Users/ray/Desktop/Medico/frontend/src/containers/dashboard/widgets/banner.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { BodyCard } from \"../../../components/cards\";\nimport { PrettyDate } from \"../../../components/dates\";\nimport { LgIcon } from \"../../../components/icons\";\nimport { Col, FluidContainer, Row } from \"../../../components/layout\";\nimport { FullName, Username } from \"../../../components/users\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WelcomeMessage(props) {\n  const today = new Date();\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"justify-content-between\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      className: \"align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(PrettyDate, {\n        date: today\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      className: \"text-muted col-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"text-muted my-1 py-0\",\n        children: `Welcome ${FullName({\n          user: props.session\n        })}.`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n}\n_c = WelcomeMessage;\nfunction ServicesAlert(props) {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [count, setCount] = useState(0);\n  useEffect(() => {\n    async function getCount() {\n      try {\n        setIsLoading(true);\n        const username = Username({\n          user: props.session\n        });\n        const page = 0;\n        const limit = 10;\n        const {\n          data,\n          status\n        } = await axios.get(`http://localhost:4090/api/users/${username}/services?page=${page}&limit=${limit}`, {\n          headers: {\n            Authorization: `Bearer ${props.session.authToken}`\n          }\n        });\n        if (status !== 200) {\n          throw new Error(data.message);\n        }\n        setCount(data.length);\n      } catch (err) {\n        console.error(`Failed to get count of services. ${err}`);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getCount();\n  }, [props.session]);\n  if (isLoading || count > 0) {\n    return null;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger d-flex p-2\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(LgIcon, {\n            className: \"mx-1\",\n            children: \"person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"my-0\",\n            children: \"Consider adding services to your profile to make it easier for patients to schedule new appointments with you.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(ServicesAlert, \"P9hkblbtCBiOkq0kTWlDRgg5VCU=\");\n_c2 = ServicesAlert;\nfunction Banner(_ref) {\n  let {\n    session\n  } = _ref;\n  const {\n    isPhysician\n  } = session;\n  const currentUserIsPhysician = Boolean(isPhysician);\n  return /*#__PURE__*/_jsxDEV(BodyCard, {\n    className: \"rounded\",\n    children: /*#__PURE__*/_jsxDEV(FluidContainer, {\n      children: [/*#__PURE__*/_jsxDEV(WelcomeMessage, {\n        session: session\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), currentUserIsPhysician && /*#__PURE__*/_jsxDEV(ServicesAlert, {\n        session: session\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Banner;\nexport default Banner;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"WelcomeMessage\");\n$RefreshReg$(_c2, \"ServicesAlert\");\n$RefreshReg$(_c3, \"Banner\");","map":{"version":3,"names":["React","useEffect","useState","BodyCard","PrettyDate","LgIcon","Col","FluidContainer","Row","FullName","Username","axios","jsxDEV","_jsxDEV","WelcomeMessage","props","today","Date","className","children","date","fileName","_jsxFileName","lineNumber","columnNumber","user","session","_c","ServicesAlert","_s","isLoading","setIsLoading","count","setCount","getCount","username","page","limit","data","status","get","headers","Authorization","authToken","Error","message","length","err","console","error","role","_c2","Banner","_ref","isPhysician","currentUserIsPhysician","Boolean","_c3","$RefreshReg$"],"sources":["/Users/ray/Desktop/Medico/frontend/src/containers/dashboard/widgets/banner.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BodyCard } from \"../../../components/cards\";\nimport { PrettyDate } from \"../../../components/dates\";\nimport { LgIcon } from \"../../../components/icons\";\nimport { Col, FluidContainer, Row } from \"../../../components/layout\";\nimport { FullName, Username } from \"../../../components/users\";\nimport axios from \"axios\";\n\nfunction WelcomeMessage(props) {\n  const today = new Date();\n  return (\n    <Row className='justify-content-between'>\n      <Col className='align-items-center'>\n        <PrettyDate date={today} />\n      </Col>\n      <Col className='text-muted col-auto'>\n        <h6 className='text-muted my-1 py-0'>\n          {`Welcome ${FullName({ user: props.session })}.`}\n        </h6>\n      </Col>\n    </Row>\n  );\n}\n\nfunction ServicesAlert(props) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    async function getCount() {\n      try {\n        setIsLoading(true);\n        const username = Username({ user: props.session });\n        const page = 0;\n        const limit = 10;\n\n        const { data, status } = await axios.get(\n          `http://localhost:4090/api/users/${username}/services?page=${page}&limit=${limit}`,\n          {\n            headers: {\n              Authorization: `Bearer ${props.session.authToken}`,\n            },\n          }\n        );\n\n        if (status !== 200) {\n          throw new Error(data.message);\n        }\n        setCount(data.length);\n      } catch (err) {\n        console.error(`Failed to get count of services. ${err}`);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    getCount();\n  }, [props.session]);\n\n  if (isLoading || count > 0) {\n    return null;\n  } else {\n    return (\n      <Row className='mt-3'>\n        <Col>\n          <div className='alert alert-danger d-flex p-2' role='alert'>\n            <LgIcon className='mx-1'>person</LgIcon>\n            <p className='my-0'>\n              Consider adding services to your profile to make it easier for\n              patients to schedule new appointments with you.\n            </p>\n          </div>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nfunction Banner({ session }) {\n  const { isPhysician } = session;\n  const currentUserIsPhysician = Boolean(isPhysician);\n\n  return (\n    <BodyCard className='rounded'>\n      <FluidContainer>\n        <WelcomeMessage session={session} />\n        {currentUserIsPhysician && <ServicesAlert session={session} />}\n      </FluidContainer>\n    </BodyCard>\n  );\n}\n\nexport default Banner;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}